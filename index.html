<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Video Player</title>
    
    <!-- 1. Plyr লাইব্রেরির CSS ফাইল যোগ করা -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />

    <style>
        body {
            margin: 0;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #playerContainer {
            width: 100%;
            max-width: 900px;
        }

        /* 2. Plyr প্লেয়ারের রঙ পরিবর্তন করার জন্য CSS */
        :root {
            --plyr-color-main: #ff0000; /* এখানে লাল রঙ সেট করা হয়েছে */
        }
    </style>
</head>
<body>
    <div id="playerContainer">
        <!-- ভিডিও ট্যাগটিকে Plyr ব্যবহারের জন্য প্রস্তুত করা -->
        <video id="player" playsinline controls>
            <!-- সোর্স ট্যাগটি JavaScript দিয়ে যোগ করা হবে -->
        </video>
    </div>

    <!-- 3. Plyr লাইব্রেরির JavaScript ফাইল যোগ করা -->
    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const videoUrl = params.get("id");
            const playerContainer = document.getElementById('playerContainer');
            const videoElement = document.getElementById('player');

            if (videoUrl) {
                // ভিডিওর সোর্স যোগ করা
                const source = document.createElement('source');
                source.src = videoUrl;
                source.type = 'video/mp4';
                videoElement.appendChild(source);

                // 4. Plyr প্লেয়ার চালু করা
                const player = new Plyr('#player', {
                    // এখানে বিভিন্ন অপশন যোগ করা যায়
                    controls: ['play-large', 'play', 'progress', 'current-time', 'mute', 'volume', 'captions', 'settings', 'pip', 'airplay', 'fullscreen'],
                    storage: { enabled: true, key: 'plyr' } // ভিডিওর পজিশন মনে রাখার জন্য
                });

                // ঐচ্ছিক: পেজ লোড হওয়ার সাথে সাথে প্লেয়ারটি দেখানোর জন্য
                window.player = player;

            } else {
                playerContainer.innerHTML = "<p style='color: #888; text-align: center;'>❌ কোনো ভিডিও লিংক পাওয়া যায়নি!</p>";
            }
        });
    </script>
</body>
</html>
